{
  "name": "pearl-language-support",
  "displayName": "PEARL Language Support",
  "description": "VS Code Extension mit Language Server für die Sprache PEARL",
  "version": "0.0.3",
  "publisher": "none",
  "author": {
    "name": "Jan Bartels"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/jan.bartels/pearl-language-support.git"
  },
  "license": "GPL-3.0-or-later",
  "engines": {
    "vscode": "^1.80.0"
  },
  "categories": ["Programming Languages"],
  "main": "./client/extension.js",
  "activationEvents": [
    "onLanguage:pearl"
  ],
  "contributes": {
    "languages": [
      {
        "id": "pearl",
        "aliases": ["PEARL", "pearl"],
        "extensions": [".p", ".P"],
        "configuration": "./language-configuration.json"
      }
    ],
    "grammars": [
      {
        "language": "pearl",
        "scopeName": "source.pearl",
        "path": "./syntaxes/pearl.tmLanguage.json"
      }      
    ],
    "semanticTokenTypes": [
      {
        "id": "testToken", 
        "description": "A test token"
      }
    ],
    "semanticTokenModifiers": [
      {
        "id": "inactive", 
        "description": "Inaktiv (Präprozessor)"
      }
    ],
    "semanticTokenStyleDefaults": [
      {
        "selector": "testToken",
        "scope": [ "entity.name.variable.special" ]
      },
      {
        "selector": "comment.inactive",
        "scope": [ "entity.name.variable.special.extra" ]
      }
    ],
    "configuration": {
      "title": "PEARL",
      "type": "object",
      "properties": {
        "pearl.maxNumberOfProblems": {
          "scope": "resource",
          "type": "number",
          "default": 100,
          "description": "Maximum number of diagnostics per PEARL file."
        },
        "pearl.trace.server": {
          "scope": "window",
          "type": "string",
          "enum": ["off", "messages", "verbose"],
          "default": "off",
          "description": "Trace level for the PEARL language server."
        },
        "pearl.macros": {
          "type": "object",
          "scope": "resource",
          "markdownDescription": "C-style preprocessor macros für den externen Präprozessor.\n\nSchlüssel = Makroname, Wert = optionaler Ersatztext.\nLeerer Wert bedeutet: Makro nur definiert (`#define NAME`).",
          "default": {},
          "additionalProperties": {
            "type": "string"
          }
        }        
      }
    },    
    "configurationDefaults": {
      "editor.semanticTokenColorCustomizations": {
        "rules": {
          "*.inactive": {
            "foreground": "#888888",
            "fontStyle": "italic"
          },
          "operator": {
            "foreground": "#fafac2"
          },
          "type": {
            "foreground": "#847fad"
          },
          "number": {
            "foreground": "#98d6b6"
          },
          "string": {
            "foreground": "#d68389"
          },
          "variable": {
            "foreground": "#65bcd9"
          },
          "parameter": {
            "foreground": "#219cc4"
          },
          "*": { 
            "foreground": "#ff00ff" 
          }
        }
      }
    }
  },
  "scripts": {
    "compile": "echo \"no build step\"",
    "test": "echo \"no tests\"",
    "package": "vsce package"
  },
  "dependencies": {
    "vscode-languageclient": "^9.0.1",
    "vscode-languageserver": "^9.0.1",
    "vscode-languageserver-textdocument": "^1.0.11"
  }
}
